<template>
  <div class="web-index">
    <div class="iframe">
      <iframe id="iframe" :src="location" :width="width" :height="height" frameborder="0" scrolling="no"></iframe>
    </div>
    <!-- å›ºå®šåœ¨åº•éƒ¨çš„æŒ‰é’®-->
    <fixed-bottom></fixed-bottom>
  </div>
</template>

<script>
  import {Indicator, Toast} from 'mint-ui'
  import FixedBottom from '@c/fixed-bottom'
  import {countDetail} from '@js/utils'
  import {getHost} from '@api/host'
  import wx from "weixin-js-sdk"

  export default{
    data(){
      return {
        location:'',
        width:'',
        height:''
      }
    },
    beforeRouteEnter(to, from, next){
      next(vm => {
//        getHost(1)
//          .then(res=>{
//            wx.ready(function () {
//              wx.showMenuItems({
//                menuList: ["menuItem:share:appMessage", "menuItem:share:timeline", "menuItem:share:qq", "menuItem:share:weiboApp", "menuItem:favorite", "menuItem:share:facebook", "menuItem:share:QZone"]
//              });
//              wx.onMenuShareTimeline({
//                title: 'æ˜Ÿæ˜Ÿç›¸è¿ž ðŸŒŸ', // åˆ†äº«æ ‡é¢˜
//                link: `http://${window.location.host}/ceshi/index.html#/stars`, // åˆ†äº«é“¾æŽ¥ï¼Œè¯¥é“¾æŽ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸Žå½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´
//                imgUrl: '', // åˆ†äº«å›¾æ ‡
//              });
//              wx.onMenuShareAppMessage({
//                title: 'æ˜Ÿæ˜Ÿç›¸è¿ž ðŸŒŸ', // åˆ†äº«æ ‡é¢˜
//                desc: '', // åˆ†äº«æè¿°
//                link: `http://${window.location.host}/ceshi/index.html#/stars`, // åˆ†äº«é“¾æŽ¥ï¼Œè¯¥é“¾æŽ¥åŸŸåæˆ–è·¯å¾„å¿…é¡»ä¸Žå½“å‰é¡µé¢å¯¹åº”çš„å…¬ä¼—å·JSå®‰å…¨åŸŸåä¸€è‡´
//                imgUrl: '', // åˆ†äº«å›¾æ ‡
//              });
//            });
//            countDetail(to);
//            vm.width = window.innerWidth;
//            vm.height = window.innerHeight;
//            vm.location='http://seif.fsherun.cn/ceshi/h5game/stars/index.html';
//          })
      })
    },
    mounted(){
      this.$nextTick(() => {
        window.scrollTo(0, 0);run_btn_cal();
      })
    },
    methods: {

    },
    components: {
      FixedBottom
    }
  }
</script>

<style lang="scss" type="text/scss" scoped>
  @import '../../assets/scss/temp';

  .iframe{
    position: fixed;
    top:0;
    left:0;
    width: 100%;
    height: 100%;
  }
</style>
