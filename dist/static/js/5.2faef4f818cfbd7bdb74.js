webpackJsonp([5],{"4FYh":function(t,e){},LiCu:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});s("qONS");var a=s("UQTY"),i=s.n(a),n=s("//Fk"),r=s.n(n),c=(s("34+y"),s("X+yh")),u=s.n(c),o=s("pjeT"),h=(s("mS0+"),s("psC7")),l=s("KvKp"),p=s("JAv/"),m=(s("fxnj"),{pics:["http://quweifiles.mukzz.pw/character/A.png","http://quweifiles.mukzz.pw/character/B.png","http://quweifiles.mukzz.pw/character/C.png","http://quweifiles.mukzz.pw/character/D.png","http://quweifiles.mukzz.pw/character/loading.jpg","http://quweifiles.mukzz.pw/character/home_bg.jpg","http://quweifiles.mukzz.pw/character/start-btn.png","http://quweifiles.mukzz.pw/character/O_bg.jpg","http://quweifiles.mukzz.pw/character/question_bg.jpg",s("S7Ic")],ques:[{title:"这段音乐给你的感受是？",answer:["舒适","悲伤","优雅","冷漠"],music:"http://quweifiles.mukzz.pw/character/1.mp3"},{title:"这段音乐对应的场景是？",answer:["清晨散步","夜间赶路","午后懒惰","凌晨失眠"],music:"http://quweifiles.mukzz.pw/character/2.mp3"},{title:"这段音乐最配的图片？",answer:["http://quweifiles.mukzz.pw/character/A.png","http://quweifiles.mukzz.pw/character/B.png","http://quweifiles.mukzz.pw/character/C.png","http://quweifiles.mukzz.pw/character/D.png"],music:"http://quweifiles.mukzz.pw/character/3.mp3"},{title:"这段音乐播放的场景应该是？",answer:["热闹的餐厅","室外的草坪","神秘的古堡","空旷的会议室"],music:"http://quweifiles.mukzz.pw/character/4.mp3"},{title:"这段音乐会让你想起下面哪种食物？",answer:["一碗清淡的素面","小火慢炖的卤肉","丰盛诱人的海鲜","精致考究的甜品"],music:"http://quweifiles.mukzz.pw/character/5.mp3"},{title:"这段音乐是从什么地方播放出来的？",answer:["咖啡馆的音响里","漫步街头的耳机里","昏暗房间的黑胶唱机里","电影正在播放的电影片段里"],music:"http://quweifiles.mukzz.pw/character/6.mp3"}]}),w={data:function(){return{loadDone:!1,testStart:!1,testShow:!1,startBg:"http://quweifiles.mukzz.pw/character/home_bg.jpg",number:0,nickname:"",ques:[{}],result:"",hideBtn:!1,show:!1}},beforeRouteEnter:function(t,e,s){s()},mounted:function(){var t=this;this.$nextTick(function(){Object(l.f)(m.pics).then(function(){t.loadDone=t.testShow=!0})})},methods:{close:function(){this.show=!1},start:function(){if("http://quweifiles.mukzz.pw/character/home_bg.jpg"===this.startBg)this.startBg="http://quweifiles.mukzz.pw/character/O_bg.jpg";else{if(!this.nickname)return void u()("请输入昵称");document.getElementById("audio").play(),this.testStart=!0,this.ques=m.ques}},showBtn:function(){this.hideBtn=!1},hide:function(){this.hideBtn=!0},changeQues:function(){var t=document.getElementById("audio");this.number===this.ques.length-1?(this.testShow=!1,u()("加载中.."),this._drawImage(s("S7Ic")),t.pause()):(this.number=this.number+1,t.play())},_drawImage:function(t){var e=new Image;e.src=t;var s=document.createElement("canvas"),a=s.getContext("2d"),n=this;e.onload=function(){console.log(t),s.width=e.width,s.height=e.height,a.drawImage(e,0,0,e.width,e.height),a.font="80px Arial",a.fillStyle="#ffffff",a.textAlign="center",a.fillText(n.nickname,375,160),console.log("0"),Object(p.a)(0).then(function(t){return Object(l.b)(t)}).then(function(t){return new r.a(function(e,s){var i=new Image;i.src=t,i.width=140,i.height=140,i.onload=function(){console.log("1"),a.drawImage(i,581,1014,i.width,i.height),e()}})}).then(function(){var t=new Image;t.crossOrigin="anonymous";var e="http://quweifiles.mukzz.pw/character/"+Math.round(24*Math.random())+".png";console.log(e),t.src=e,t.width=400,t.height=400,t.onload=function(){console.log("2"),a.drawImage(t,172,547,t.width,t.height),n.testStart=!1,i.a.close(),n.result=s.toDataURL("image/jpeg")}})}}},components:{List:o.a,preview:h.a}},g={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"character"},[s("audio",{attrs:{id:"audio",src:t.ques[t.number].music,loop:"",autoplay:""}}),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.loadDone,expression:"!loadDone"}],staticClass:"loading"},[s("div",{staticClass:"loading-text"},[t._v("\n      加载中\n    ")])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.loadDone,expression:"loadDone"}],staticClass:"container"},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.testShow,expression:"testShow"}],staticClass:"start",style:{backgroundImage:"url("+t.startBg+")"}},[s("input",{directives:[{name:"show",rawName:"v-show",value:"http://quweifiles.mukzz.pw/character/O_bg.jpg"===this.startBg,expression:"this.startBg === 'http://quweifiles.mukzz.pw/character/O_bg.jpg'"},{name:"model",rawName:"v-model",value:t.nickname,expression:"nickname"}],staticClass:"nickname",attrs:{type:"text",maxlength:"4",placeholder:"请输入昵称"},domProps:{value:t.nickname},on:{focus:t.hide,blur:t.showBtn,input:function(e){e.target.composing||(t.nickname=e.target.value)}}}),t._v(" "),s("img",{directives:[{name:"show",rawName:"v-show",value:!t.hideBtn,expression:"!hideBtn"}],staticClass:"btn-start",attrs:{src:"http://quweifiles.mukzz.pw/character/start-btn.png",alt:""},on:{click:t.start}})]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.testStart,expression:"testStart"}],staticClass:"question-content"},[s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[s("p",{staticClass:"page-num"},[t._v(t._s(t.number+1)+"/"+t._s(t.ques.length))]),t._v(" "),s("p",[t._v(t._s(t.ques.length>0?t.ques[t.number].title:""))])]),t._v(" "),s("div",{staticClass:"section"},t._l(t.ques[t.number].answer,function(e,a){return s("div",{staticClass:"option",class:[2===t.number?"picOption":""],on:{click:t.changeQues}},[s("span",[t._v(t._s(0===a?"A.":1===a?"B.":2===a?"C.":"D."))]),t._v(" "),2!==t.number?s("p",[t._v(t._s(e))]):s("img",{attrs:{src:e,alt:""}})])}))])])]),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.result,expression:"result"}],staticClass:"result"},[s("div",{staticClass:"title"},[t._v("\n      长按保存图片，分享到朋友圈\n    ")]),t._v(" "),s("div",{staticClass:"pic-box"},[s("img",{attrs:{src:t.result,alt:""}})])])])},staticRenderFns:[]};var d=s("VU/8")(w,g,!1,function(t){s("4FYh")},"data-v-685c5940",null);e.default=d.exports},S7Ic:function(t,e,s){t.exports=s.p+"static/img/result.5b8e2b9.jpg"}});