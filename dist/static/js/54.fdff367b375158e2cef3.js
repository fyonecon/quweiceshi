webpackJsonp([54],{auq4:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("y+mr");var s=a("3JdW"),n=a.n(s),r=a("Xxa5"),o=a.n(r),i=a("//Fk"),c=a.n(i),v=(a("34+y"),a("X+yh")),l=a.n(v),d=a("exGp"),m=a.n(d),u=a("pjeT"),p=a("mS0+"),x=a("psC7"),_=a("0oWP"),b=a("KvKp"),h=a("JAv/"),f=a("fxnj"),w=a.n(f),g={name:"dwxlr",data:function(){return{step:1,nickname:"",sex:"",options:{showRadio:!0,showInput:!0},result:"",count:"",show:!1}},beforeRouteEnter:function(e,t,a){a(function(t){Object(h.a)(1).then(function(t){Object(b.a)(e)})})},mounted:function(){this.$nextTick(function(){window.scrollTo(0,0)})},methods:{close:function(){this.show=!1},toResult:function(){var e=this;return m()(o.a.mark(function t(){var a,s,n,r,i,v,d,m,u;return o.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(e.nickname.trim()){t.next=3;break}return l()("请输入姓名"),t.abrupt("return");case 3:if(e.sex){t.next=6;break}return l()("请选择券的类型"),t.abrupt("return");case 6:return l()("加载中.."),a=e,s="http://quweifiles.mukzz.pw/web-project/aiqingquan/"+e.sex+".jpg",n="http://qwapi_ywfbt.mukzz.pw/public/?s=/api/jump/jp",console.log(s),r=window.location.href,i=run_only(r),n=n+"/p/"+i,console.log(n),v=get_user_ip(),console.log(v),n=n+"/ip/"+v,console.log(n),t.next=21,Object(b.b)(n);case 21:d=t.sent,m=document.createElement("canvas"),u=m.getContext("2d"),new c.a(function(e,t){var a=new Image;a.crossOrigin="anonymous",a.src=s,a.onload=function(){m.width=a.width,m.height=a.height,u.drawImage(a,0,0,a.width,a.height),e()}}).then(function(){return new c.a(function(e,t){var a=new Image;a.crossOrigin="anonymous",a.src=d,a.onload=function(){u.drawImage(a,135,570,100,100),e()}})}).then(function(){return new c.a(function(t,a){u.font="18px 微软雅黑",u.fillStyle="#000",u.textAlign="center",u.textBaseline="top",u.fillText(e.nickname,310,688),t()})}).then(function(){a.result=m.toDataURL("image/jpeg"),window.scrollTo(0,0),run_btn_cal(),Object(b.e)()?e.show=!0:w.a.previewImage({current:a.result,urls:[a.result]})});case 25:case"end":return t.stop()}},t,e)}))()}},components:{List:u.a,"mt-button":n.a,scriptRender:_.a,FixedBottom:p.a,preview:x.a}},k={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"web-index"},[a("div",{staticClass:"title"},[e._v("\n    你的爱情券领取\n  ")]),e._v(" "),a("div",{staticClass:"container"},[a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.step,expression:"step===1"}],staticClass:"p1"},[a("img",{staticClass:"cover-img",attrs:{src:"http://quweifiles.mukzz.pw/web-project/aiqingquan/cover.jpg",alt:""}}),e._v(" "),e._m(0),e._v(" "),e.options.showRadio?a("div",{staticClass:"radio-box",staticStyle:{width:"100%"}},[a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"1"},domProps:{checked:e._q(e.sex,"1")},on:{change:function(t){e.sex="1"}}}),a("br"),e._v("捶"),a("br"),e._v("背"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"2"},domProps:{checked:e._q(e.sex,"2")},on:{change:function(t){e.sex="2"}}}),a("br"),e._v("聊"),a("br"),e._v("天"),a("br"),e._v("券")])]),e._v(" "),a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"3"},domProps:{checked:e._q(e.sex,"3")},on:{change:function(t){e.sex="3"}}}),a("br"),e._v("旅"),a("br"),e._v("行"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"4"},domProps:{checked:e._q(e.sex,"4")},on:{change:function(t){e.sex="4"}}}),a("br"),e._v("美"),a("br"),e._v("食"),a("br"),e._v("券")])]),e._v(" "),a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"5"},domProps:{checked:e._q(e.sex,"5")},on:{change:function(t){e.sex="5"}}}),a("br"),e._v("情"),a("br"),e._v("话"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"6"},domProps:{checked:e._q(e.sex,"6")},on:{change:function(t){e.sex="6"}}}),a("br"),e._v("拥"),a("br"),e._v("抱"),a("br"),e._v("券")])]),e._v(" "),a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"7"},domProps:{checked:e._q(e.sex,"7")},on:{change:function(t){e.sex="7"}}}),a("br"),e._v("索"),a("br"),e._v("吻"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"8"},domProps:{checked:e._q(e.sex,"8")},on:{change:function(t){e.sex="8"}}}),a("br"),e._v("撕"),a("br"),e._v("逼"),a("br"),e._v("券")])]),e._v(" "),a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"9"},domProps:{checked:e._q(e.sex,"9")},on:{change:function(t){e.sex="9"}}}),a("br"),e._v("装"),a("br"),e._v("逼"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"10"},domProps:{checked:e._q(e.sex,"10")},on:{change:function(t){e.sex="10"}}}),a("br"),e._v("约"),a("br"),e._v("会"),a("br"),e._v("券")])]),e._v(" "),a("div",{staticClass:"ra-div"},[a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"11"},domProps:{checked:e._q(e.sex,"11")},on:{change:function(t){e.sex="11"}}}),a("br"),e._v("做"),a("br"),e._v("饭"),a("br"),e._v("券")]),e._v(" "),a("br"),a("br"),e._v(" "),a("label",{attrs:{for:"man"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.sex,expression:"sex"}],attrs:{type:"radio",name:"sex",value:"12"},domProps:{checked:e._q(e.sex,"12")},on:{change:function(t){e.sex="12"}}}),a("br"),e._v("好"),a("br"),e._v("人"),a("br"),e._v("券")])])]):e._e(),e._v(" "),e.options.showInput?a("input",{directives:[{name:"model",rawName:"v-model",value:e.nickname,expression:"nickname"}],staticClass:"input",attrs:{type:"text",maxlength:"4",placeholder:"请输入你的姓名"},domProps:{value:e.nickname},on:{input:function(t){t.target.composing||(e.nickname=t.target.value)}}}):e._e(),e._v(" "),a("div",{staticClass:"blank-div"}),e._v(" "),a("mt-button",{staticClass:"btn-submit btn-ok",attrs:{type:"danger",size:"large"},on:{click:e.toResult}},[e._v("确 定")])],1)]),e._v(" "),a("list"),e._v(" "),a("div",{staticClass:"btn-box"},[a("mt-button",{staticClass:"scale",attrs:{type:"primary",size:"large"},on:{click:function(t){e.$router.push("/")}}},[e._v("更多测试 "),a("i",{staticClass:"iconfont icon-next"})])],1),e._v(" "),a("fixed-bottom"),e._v(" "),a("preview",{attrs:{pic:e.result,show:e.show},on:{close:e.close}})],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("div",{staticClass:"small-title"},[this._v("当~当~当")]),this._v(" "),t("div",{staticClass:"small-title-txt"},[this._v("选择券的类型，你为心爱的人制作专属爱情券，是不是很有爱啊~_~")])])}]};var y=a("VU/8")(g,k,!1,function(e){a("qtGR")},"data-v-1e8dcd55",null);t.default=y.exports},qtGR:function(e,t){}});